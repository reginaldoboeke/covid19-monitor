<app-header [height]="190"></app-header>

<div class="container list-cards">
  <div class="card" [style.color]="this.confirmedColor">
    <h4>Infectados</h4>
    <h6>{{this.globalStatistics?.TotalConfirmed || 0 | number}}</h6>
  </div>
  <div class="card" [style.color]="this.recoveredColor">
    <h4>Curados</h4>
    <h6>{{this.globalStatistics?.TotalRecovered || 0 | number}}</h6>
  </div>
  <div class="card" [style.color]="this.deathsColor">
    <h4>Óbitos</h4>
    <h6>{{this.globalStatistics?.TotalDeaths || 0 | number}}</h6>
  </div>
</div>

<div class="container">
  <app-searchbar (submitFn)="this.getCountriesStatisticsByDate($event)" (refreshFn)="this.getCountriesStatisticsByDate($event)">
  </app-searchbar>

  <table>
    <thead>
      <tr>
        <th>País</th>
        <th>Infectados</th>
        <th>Curados</th>
        <th>Óbitos</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let country of this.countries" (click)="this.handleGoToDetails(country)">
        <td>{{this.country.Country}}</td>
        <td>{{this.country.Confirmed | number}}</td>
        <td>{{this.country.Recovered | number}}</td>
        <td>{{this.country.Deaths | number}}</td>
      </tr>
    </tbody>
  </table>

  <h3 class="list-title">Listagem</h3>

  <div class="card" *ngFor="let country of this.countries" (click)="this.handleGoToDetails(country)">
    <h4>{{this.country.Country}}</h4>
    <strong>{{this.country.Confirmed | number}} <span>Infectados</span></strong>
    <strong>{{this.country.Recovered | number}} <span>Curados</span></strong>
    <strong>{{this.country.Deaths | number}} <span>Óbitos</span></strong>
  </div>
</div>
